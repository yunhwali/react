<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="minimum-scale=1.0, width=device-width, maximum-scale=1.0, user-scalable=no"/>
    <meta charset="utf-8">
    <title>React</title>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
</head>
<body>
  <h1>React</h1>
  <p>Open the Console</p>
<script type="text/babel">


//4.
//합성(composition)
//: 단순한 함수를 조합해 고차 함수를 만들어 내는 것 
//chaining - 함수를 연쇄 호출하는 것 

  const template = "hh:mm:ss tt"
  const clockTime = template.replace("hh","03").replace("mm","33").replace("ss","34").replace("tt","PM")

  console.log(clockTime)

  const both = date => appendAMPM(civilianHours(date))

  const both = compose(civilianHours, appendAMPM)

  both(new Date())

  const appendAMPM = ({date}) =>
        ({
            date,
            ampm: (date.getHours() >= 12) ? "PM" : "AM"
        })

  const civilianHours = clockTime => {
      const hours = clockTime.date.getHours()
        return {
          ...clockTime,
          hours: (hours > 12) ?
            hours - 12 :
            hours
        }
      }

  const compose = (...fns) =>
    (arg) =>
      fns.reduce(
        (composed, f) => f(composed)
        arg
      )


</script>
</body>
</html>